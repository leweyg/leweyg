<html>
    <head><title>Lewcid Keyboard</title></head>
    <body>
        <p3>Lewcid Keyboard</p3>
        <code><pre><span id="main_content">Loading...</span></pre></code>
        <br/>
        <code><pre><span id="main_ending">--LG</span></pre></code>
        <br/>
        <canvas id="main_canvas" width=320 height=240>

        </canvas>
        </br>
        <pre><code><span id="main_post">(Drawn)</span></code></pre>
        <script src="lewcid_keyboard.js"></script>
        <script>
            main_content.innerText = "Loaded!";
            var result = "";
            foreach_percept(LEWCID_CONSOLE_BUFFER, (c) => {
                result += "" + c.char;
            });
            result += "\n";
            foreach_percept(LEWCID_KEYBOARD, (c) => {
                //if (c.SHFT == 0)
                    result += c.char;
            });
            main_content.innerText = result;
            main_ending.innerText = "Done.";

        </script>
        <script>
            function idea_render(idea) {
                var ctx = main_canvas.getContext("2d");
                ctx.fillStyle = "#ccCCcc";
                ctx.font = "12px Courier New";
                ctx.textBaseline = "top";
                ctx.fillRect(0, 0, 320, 240);
                ctx.fillStyle = "#112233";
                //ctx.fillText("Background", 10, 50);

                foreach_percept(idea, (c) => {
                    //if (c.SHFT == 0)
                        ctx.fillText(c.char, c.col*6, (c.line + c.SHFT*5)*18);
                });

                //ctx.fillText("Background", 10, 50);
            }
            var startIndex = 0;

            console.log(LEWCID_KEYBOARD.percepts.indexOf("\n",));
            idea_render(LEWCID_KEYBOARD);
        </script>

    </body>
</html>